{
  "comment": "Voice Activity Detection (VAD) Configuration",
  "description": "Tune these settings to optimize speech detection sensitivity for your environment",

  "detection": {
    "energy_threshold": 300,
    "comment_energy_threshold": "Audio energy level required to detect speech. LOWER = more sensitive (picks up quiet speech), HIGHER = less sensitive (ignores background noise). Typical range: 300-1000. Default: 500. CURRENT: 300 (more sensitive based on user feedback)",

    "speech_confirmation_chunks": 2,
    "comment_speech_confirmation_chunks": "Number of consecutive high-energy audio chunks needed to confirm real speech (not just noise spike). LOWER = faster activation but more false positives, HIGHER = slower but more reliable. Range: 1-5. Default: 3. CURRENT: 2 (faster activation)",

    "chunk_size": 1024,
    "comment_chunk_size": "Audio buffer size in samples. Lower = more responsive but more CPU, Higher = less responsive but efficient. Typical: 512, 1024, 2048. Default: 1024",

    "audio_buffer_seconds": 2.0,
    "comment_audio_buffer_seconds": "How many seconds of audio to keep buffered before VAD triggers. This audio is prepended to the Google Speech stream so you don't lose the beginning of your speech. Typical: 1.0-3.0 seconds. Default: 2.0"
  },

  "timing": {
    "silence_threshold": 0.75,
    "comment_silence_threshold": "Seconds of silence before marking user as 'done speaking' within a conversation. Default: 2.5. CURRENT: 0.75 (balanced - fast response without cutting off mid-sentence)",

    "conversation_timeout": 5,
    "comment_conversation_timeout": "Seconds of silence before returning to idle listening mode (stops Google API streaming). Default: 30. CURRENT: 5 (quick timeout for outdoor environment with passing cars)"
  },

  "audio": {
    "sample_rate": 16000,
    "comment_sample_rate": "Audio sampling rate in Hz. Google Speech requires 16000. Do not change unless you know what you're doing. Default: 16000",

    "channels": 1,
    "comment_channels": "Number of audio channels. 1 = mono, 2 = stereo. Google Speech requires 1. Default: 1"
  },

  "tuning_guide": {
    "too_sensitive": "If VAD activates on background noise: Increase energy_threshold (try 700-1000) OR increase speech_confirmation_chunks (try 4-5)",
    "not_sensitive_enough": "If you need to speak loudly: Decrease energy_threshold (try 300-400) OR decrease speech_confirmation_chunks (try 2)",
    "slow_activation": "If there's a delay before activation: Decrease speech_confirmation_chunks (try 2) OR decrease chunk_size (try 512)",
    "cuts_off_beginning": "If first word is missed: Decrease speech_confirmation_chunks (try 1-2)",
    "stays_active_too_long": "If doesn't return to idle quickly: Decrease conversation_timeout (try 15-20)",
    "cuts_off_mid_sentence": "If stops listening while you're talking: Increase silence_threshold (try 3.5-4.0)"
  },

  "recommended_presets": {
    "quiet_room": {
      "energy_threshold": 300,
      "speech_confirmation_chunks": 2,
      "description": "For quiet environments with minimal background noise"
    },
    "normal_room": {
      "energy_threshold": 500,
      "speech_confirmation_chunks": 3,
      "description": "Default settings for typical indoor environments"
    },
    "noisy_party": {
      "energy_threshold": 800,
      "speech_confirmation_chunks": 4,
      "description": "For loud environments with music and crowd noise (Halloween party!)"
    },
    "very_sensitive": {
      "energy_threshold": 200,
      "speech_confirmation_chunks": 1,
      "description": "Maximum sensitivity - activates on whispers (may have false positives)"
    }
  }
}
